<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Politician Email Generator</title>

 <!-- 1) Your stylesheet -->
<link rel="stylesheet" href="styles.css">

<!-- 2) Tom Select (searchable dropdown) CSS + JS from CDN -->
<input id="tom-select-it" />
<link rel="stylesheet" href="/css/tom-select.default.css">
<script src="/js/tom-select.complete.js"></script>
<script>
var settings = {};
new TomSelect('#tom-select-it',settings);
</script>
  
<!-- 3) Your app logic (AFTER Tom Select). 'defer' ensures it runs after the DOM is parsed -->
<script src="app.js"></script>
  
</head>
<body>
  <h1>Politician Email Generator</h1>
  <p class="small">Choose the type, then filter by party or state and politician. Search by typing.</p>

  <!-- Step 1 -->
  <label for="type">Step 1: Choose type of politician</label>
  <select id="type">
    <option value="" selected disabled>Select…</option>
    <option value="leader">Party Leader</option>
    <option value="mp">Member of Parliament</option>
  </select>

  <!-- Step 2A: Party -->
  <div id="partyDiv" class="hidden">
    <label for="party">Step 2: Choose Party</label>
    <select id="party" placeholder="Search or select a party…">
      <!-- Options will be populated from JSON or static list -->
    </select>
  </div>

  <!-- Step 2B: State -->
  <div id="stateDiv" class="hidden">
    <label for="state">Step 2: Choose State</label>
    <select id="state" placeholder="Search or select a state…">
      <!-- You can hardcode states or derive from politicians.json keys -->
    </select>
  </div>

  <!-- Step 3: Politician -->
  <div id="politicianDiv" class="hidden">
    <label for="politician">Step 3: Choose Politician</label>
    <select id="politician" placeholder="Type to search politician…"></select>
  </div>

  <!-- Options -->
  <div id="optionsDiv" class="hidden">
    <label for="subject">Subject (optional)</label>
    <input id="subject" placeholder="e.g., Meeting request regarding [topic]" />
    <label for="tone">Tone</label>
    <select id="tone">
      <option value="neutral" selected>Neutral</option>
      <option value="formal">Formal</option>
      <option value="friendly">Friendly</option>
      <option value="concise">Concise</option>
    </select>
  </div>

  <button id="generateBtn" class="hidden">Generate Email</button>

  <div id="outputDiv" class="hidden card">
    <label for="output">Generated Email</label>
    <textarea id="output" rows="14" spellcheck="false"></textarea>
    <div class="btns">
      <button id="copyBtn">Copy Email</button>
      <button id="mailtoBtn">Open in Email App</button>
    </div>
  </div>

</body>
</html>
